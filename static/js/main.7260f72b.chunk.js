(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,n){e.exports=n(68)},36:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(26),r=n.n(l),c=(n(36),n(7)),i=n(8),s=n(10),u=n(9),m=n(11),h=n(27);var d=function(e){var t=e.children;return o.a.createElement("div",{style:{height:100,clear:"both",paddingTop:25,marginTop:10,textAlign:"center"},className:"jumbotron"},t)},f=n(13),v=n.n(f),k={search:function(e){var t=e.title,n=e.author,a="https://www.googleapis.com/books/v1/volumes?q=intitle=".concat(t,"&inauthor=").concat(n,"&key=").concat("AIzaSyCrflNWeNSyoEZ4-Lb7tasEYind3T2VZwg");return v.a.get(a)},getBooks:function(){return v.a.get("/api/books")},searchBook:function(e){return v.a.get("/api/books/"+e)},saveBook:function(e){return v.a.post("/api/books",e)},deleteBook:function(e){return v.a.delete("/api/books/"+e)}};n(56);function b(e){var t=e.fluid,n=e.children;return o.a.createElement("div",{className:"container".concat(t?"-fluid":"")},n)}function g(e){var t=e.fluid,n=e.children;return o.a.createElement("div",{className:"row".concat(t?"-fluid":"")},n)}function p(e){var t=e.size,n=e.children;return o.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},n)}n(57);function E(e){var t=e.children;return o.a.createElement("div",{className:"list-overflow-container"},o.a.createElement("ul",{className:"list-group"},t))}function B(e){var t=e.children;return o.a.createElement("li",{className:"list-group-item"},t)}function y(e){return o.a.createElement("div",{className:"form-group"},o.a.createElement("input",Object.assign({className:"form-control"},e)))}function N(e){return o.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success"}),e.children)}var w=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={title:"",author:"",books:[]},n.loadBooks=function(e){e.preventDefault();var t=n.state,a=t.title,o=t.author;console.log("title: ",a),console.log("author: ",o),k.search({title:a,author:o}).then(function(e){console.log(e),n.setState({books:e.data.items}),console.log(n.state.books)}).catch(function(e){return console.log(e)})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"updateInputs",value:function(e){var t=e.target,n=t.name,a=t.value;this.setState(Object(h.a)({},n,a))}},{key:"saveBook",value:function(e){console.log(e),console.log(this.state.books);for(var t=0;t<this.state.books.length;t++)if(this.state.books[t].id===e){var n=this.state.books[t];console.log(n);var a={};a.author=n.volumeInfo.authors[0],a.title=n.volumeInfo.title,a.url=n.volumeInfo.infoLink,a.img=n.volumeInfo.imageLinks.smallThumbnail,a.description=n.searchInfo.textSnippet,console.log(a),k.saveBook(a).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)});break}}},{key:"render",value:function(){var e=this;return o.a.createElement(b,{fluid:!0},o.a.createElement(g,null,o.a.createElement(p,{size:"md-6"},o.a.createElement(d,null,o.a.createElement("h1",null,"What Book Do You Want to Search For?")),o.a.createElement("form",null,o.a.createElement(y,{onChange:function(t){return e.updateInputs(t)},name:"title",placeholder:"Title (required)"}),o.a.createElement(y,{onChange:function(t){return e.updateInputs(t)},name:"author",placeholder:"Author (required)"}),o.a.createElement(N,{onClick:function(t){return e.loadBooks(t)}},"Submit Book"))),o.a.createElement(p,{size:"md-6 sm-12"},o.a.createElement(d,null,o.a.createElement("h1",null,"Google Book Results")),this.state.books.length?o.a.createElement(E,null,this.state.books.map(function(t){return o.a.createElement(B,{key:t.id},o.a.createElement("img",{src:t.volumeInfo.imageLinks.smallThumbnail,alt:t.volumeInfo.title}),o.a.createElement("a",{href:t.volumeInfo.infoLink},o.a.createElement("strong",null,t.volumeInfo.title," by ",t.volumeInfo.authors[0])),t.searchInfo.textSnippet,o.a.createElement("button",{onClick:function(){return e.saveBook(t.id)}},"Save"))})):o.a.createElement("h3",null,"No Results to Display"))))}}]),t}(a.Component);n(58);var O=function(e){return o.a.createElement("div",{className:"container results-container"},e.children)};n(59);var j=function(e){return o.a.createElement("div",{className:"container bookitem"},o.a.createElement("div",{className:"row booktop"},o.a.createElement("div",{className:"col-9 bookinfo"},o.a.createElement("h5",null,o.a.createElement("strong",null,e.title)),o.a.createElement("p",null,"Written by: ",e.author)),o.a.createElement("div",{className:"col-3 bookbtns"},"save"===e.saveOrDelete?o.a.createElement("button",{className:"btn btn-success",author:e.author,title:e.title,description:e.description,image:e.image,onClick:e.saveBook},"Save"):"","delete"===e.saveOrDelete?o.a.createElement("button",{className:"btn btn-danger",id:e.id,onClick:e.deleteBook},"Delete"):"",o.a.createElement("a",{href:e.link,className:"view"},o.a.createElement("button",{className:"btn btn-primary"},"View")))),o.a.createElement("hr",null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 bookbottom"},o.a.createElement("img",{className:"bookimg",alt:e.title,src:e.image}),o.a.createElement("p",{className:"booksummary"},e.description))))},I={alignment:{textAlign:"center"}},S=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={savedBooks:[]},n.loadBooks=function(){k.getBooks().then(function(e){n.setState({savedBooks:e.data}),console.log(e)}).catch(function(e){return console.log(e)})},n.deleteBook=function(e){console.log(e.target);var t=e.target.getAttribute("id");console.log(t),k.deleteBook(t).then(function(e){return n.loadBooks()}).catch(function(e){return console.log(e)})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(O,null,0===this.state.savedBooks.length?o.a.createElement("h1",{style:I.alignment},"Search for a Book!"):this.state.savedBooks.map(function(t,n){return o.a.createElement(j,{key:n,id:t._id,saveOrDelete:"delete",author:t.author,link:t.link,title:t.title,image:t.image,description:t.description,deleteBook:e.deleteBook.bind(e)})})))}}]),t}(o.a.Component);var C=function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},o.a.createElement("a",{className:"navbar-brand",href:"/"},"Google Book Search"))},x=n(28),D=n(6),A=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(x.a,null,o.a.createElement("div",null,o.a.createElement(C,null),o.a.createElement(D.c,null,o.a.createElement(D.a,{exact:!0,path:"/",component:w}),o.a.createElement(D.a,{exact:!0,path:"/search",component:w}),o.a.createElement(D.a,{exact:!0,path:"/saved",component:S}))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.7260f72b.chunk.js.map